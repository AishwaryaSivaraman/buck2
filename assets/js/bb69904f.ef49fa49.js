"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8705],{28453:(e,t,s)=>{s.d(t,{R:()=>a,x:()=>l});var r=s(96540);const i={},n=r.createContext(i);function a(e){const t=r.useContext(n);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(n.Provider,{value:t},e.children)}},60380:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"prelude/rules/csharp_library","title":"csharp_library","description":"name","source":"@site/../docs/prelude/rules/csharp_library.md","sourceDirName":"prelude/rules","slug":"/prelude/rules/csharp_library","permalink":"/docs/prelude/rules/csharp_library","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"ruleSidebar","previous":{"title":"core_data_model","permalink":"/docs/prelude/rules/core_data_model"},"next":{"title":"cxx_binary","permalink":"/docs/prelude/rules/cxx_binary"}}');var i=s(74848),n=s(28453);s(56289);const a={},l="csharp_library",o={},c=[{value:"name",id:"name",level:2},{value:"Parameters",id:"parameters",level:4},{value:"Details",id:"details",level:4}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"csharp_library",children:"csharp_library"})}),"\n",(0,i.jsx)(t.h2,{id:"name",children:"name"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-python",children:"def name(\n    *,\n    name: str,\n    default_target_platform: None | str = ...,\n    target_compatible_with: list[str] = ...,\n    compatible_with: list[str] = ...,\n    exec_compatible_with: list[str] = ...,\n    visibility: list[str] = ...,\n    within_view: list[str] = ...,\n    metadata: OpaqueMetadata = ...,\n    tests: list[str] = ...,\n    modifiers: OpaqueMetadata = ...,\n    _apple_platforms: dict[str, str] = ...,\n    _csharp_toolchain: str = ...,\n    compiler_flags: list[str] = ...,\n    contacts: list[str] = ...,\n    default_host_platform: None | str = ...,\n    deps: list[str] = ...,\n    dll_name: str = ...,\n    framework_ver: str,\n    labels: list[str] = ...,\n    licenses: list[str] = ...,\n    resources: dict[str, str] = ...,\n    srcs: list[str] = ...,\n) -> None\n"})}),"\n",(0,i.jsx)(t.p,{children:"A csharp_library() rule builds a .Net library from the supplied set of C# source files and dependencies by invoking csc."}),"\n",(0,i.jsx)(t.h4,{id:"parameters",children:"Parameters"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"name"}),": name of the target"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"default_target_platform"}),": specifies the default target platform, used when no platforms are specified on the command line"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"target_compatible_with"}),": a list of constraints that are required to be satisfied for this target to be compatible with a configuration"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"compatible_with"}),": a list of constraints that are required to be satisfied for this target to be compatible with a configuration"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"exec_compatible_with"}),": a list of constraints that are required to be satisfied for this target to be compatible with an execution platform"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"visibility"}),": a list of visibility patterns restricting what targets can depend on this one"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"within_view"}),": a list of visibility patterns restricting what this target can depend on"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"metadata"}),": a key-value map of metadata associated with this target"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"tests"}),": a list of targets that provide tests for this one"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"modifiers"}),": an array of modifiers associated with this target"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"compiler_flags"}),": The set of additional compiler flags to pass to the compiler."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"deps"}),": The set of targets or system-provided assemblies to rely on. Any values that are targets must be either csharp_library or ",(0,i.jsx)(t.code,{children:"prebuilt_dotnet_library"})," instances."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"dll_name"}),": The output name of the dll. This allows you to specify the name of the dll exactly. When this is not set, the dll will be named after the short name of the target."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"framework_ver"}),": The version of the .Net framework that this library targets. This is one of 'net35', 'net40', 'net45' and 'net46'."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"resources"}),": Resources that should be embedded within the built DLL. The format is the name of the resource once mapped into the DLL as the key, and the value being the resource that should be merged. This allows non-unique keys to be identified quickly."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"srcs"}),": The collection of source files to compile."]}),"\n"]}),"\n",(0,i.jsx)(t.h4,{id:"details",children:"Details"}),"\n",(0,i.jsx)(t.p,{children:"Examples:"}),"\n",(0,i.jsxs)(t.p,{children:["For more examples, check out our ",(0,i.jsx)(t.a,{href:"https://github.com/facebook/buck/tree/dev/test/com/facebook/buck/rust/testdata/",children:"integration tests"}),"."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"\ncsharp_library(\n  name = 'simple',\n  dll_name = 'Cake.dll',\n  framework_ver = 'net46',\n  srcs = [\n    'Hello.cs',\n  ],\n  resources = {\n    'greeting.txt': '//some:target',\n  },\n  deps=[\n    ':other',\n    'System.dll',\n  ],\n)\n\nprebuilt_dotnet_library(\n  name = 'other',\n  assembly = 'other-1.0.dll',\n)\n\n"})})]})}function h(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);