/*
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under both the MIT license found in the
 * LICENSE-MIT file in the root directory of this source tree and the Apache
 * License, Version 2.0 found in the LICENSE-APACHE file in the root directory
 * of this source tree.
 */

/// Severity of the issue reported by a health check.
pub enum Severity {
    Info,
    Warning,
}

/// Remediation for an issue reported by a health check.
pub enum Remediation {
    /// A message to display to the user.
    Message(String),
    /// A hyperlink to a page containing more details and remediation.
    Link(String),
}

/// Report generated by a health check. This data is reported back to the console/client.
pub struct Report {
    /// The health check that generated this report. This is also used to tag the build.
    pub health_check_name: String,

    /// The severity of the issue reported by the health check.
    pub severity: Severity,

    /// The message to display to the user.
    pub message: String,

    /// The remediation for the issue reported by the health check.
    /// This is optional because some health checks may not have a remediation.
    pub remediation: Option<Remediation>,

    /// The default behaviour of a health check is to only tag the build.
    /// false (default): Only tag the build.
    /// true: Tag the build and show the warning message to the user.
    pub warn_user: bool,
}
